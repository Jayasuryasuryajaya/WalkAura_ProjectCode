import{u as N,r as a,j as e,a as d}from"./index-CZ9p6afL.js";import{N as v}from"./NavBar-fgtI8Lsi.js";import"./icon-BvqI3lih.js";const w=({cart:m})=>{const h=N(),[l,r]=a.useState([]),[i,o]=a.useState(1),[c,x]=a.useState(l.map(()=>null));a.useEffect(()=>{(async()=>{try{const n=await(await d.get("http://localhost:3500/Carts")).data;r(n)}catch(t){console.log(t)}})()},[]);const j=async s=>{try{await d.delete(`http://localhost:3500/Carts/${s}`);const t=l.filter(n=>n.id!==s);r(t)}catch(t){console.log(t)}};function u(){o(i+1)}function g(){i>1&&o(i-1)}const p=(s,t)=>{const n=[...c];n[t]=s,x(n),console.log(n),console.log(c)};function b(s,t){h("/BuyPage",{state:{cartDatas:s,selectedSize:c[t],ItemCount:i}})}return e.jsxs(e.Fragment,{children:[e.jsx(v,{cart:m}),e.jsx("div",{className:"bg-dark",style:{minHeight:"100vh"},children:e.jsxs("div",{className:"container-fluid p-4",children:[e.jsx("div",{className:"d-flex mb-3 align-items-center justify-content-between",children:e.jsxs("h4",{className:"text-white",children:["Your Cart ",e.jsx("span",{className:"bi bi-cart-check-fill"})]})}),l.length>0?l.map((s,t)=>e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"card border border-1 shadow-sm",style:{padding:"15px",backgroundColor:"white",borderRadius:"8px"},children:e.jsxs("div",{className:"row g-3 align-items-center",children:[e.jsx("div",{className:"col-12 col-md-4 d-flex justify-content-center",children:e.jsx("img",{src:s.images,alt:"Shoe",height:"250",className:"img-fluid rounded",style:{maxWidth:"200px"}})}),e.jsxs("div",{className:"col-12 col-md-6",style:{fontSize:"16px"},children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",s.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Brand:"})," ",s.brand]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," ",s.price]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Size:"}),s.size.map((n,f)=>e.jsx("span",{className:`btn btn-outline-dark ms-2 border-0 ${c[t]===n?"bg-dark text-white":""}`,onClick:()=>p(n,t),children:n},f))]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Ratings:"})," ",s.ratings,"  ",e.jsx("i",{className:"bi bi-star-fill",style:{fontSize:"10px"}})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",s.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reviews:"})," ",s.review]})]}),e.jsxs("div",{className:"col-12 col-md-2 d-flex flex-column align-items-center gap-3 mt-3",children:[e.jsxs("div",{children:[e.jsx("button",{className:"btn btn-outline-dark me-2",onClick:g,children:"-"}),e.jsx("span",{className:"fw-bold mx-2",children:i}),e.jsx("button",{className:"btn btn-outline-dark ms-2",onClick:u,children:"+"})]}),e.jsx("button",{className:"btn btn-outline-dark",onClick:()=>{j(s.id)},children:"Remove Item"}),e.jsxs("button",{className:" btn btn-outline-dark rounded ",onClick:()=>{b(s,t)},children:["Buy now",e.jsx("span",{className:"bi bi-bag-check-fill ms-1"})]})]})]})})},t)):e.jsx("h2",{className:" text-white text-center p-3 rounded",children:"Carts is empty!"})]})})]})};export{w as default};
