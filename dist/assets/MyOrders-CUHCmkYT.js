import{r as a,j as e,a as d}from"./index-CZ9p6afL.js";import{N as h}from"./NavBar-fgtI8Lsi.js";import"./icon-BvqI3lih.js";const g=({cart:i})=>{const[c,o]=a.useState([]),[l,n]=a.useState([]);a.useEffect(()=>{(async()=>{try{const s=await d.get("http://localhost:3500/MyOrders");o(s.data),n(s.data.map(()=>!0))}catch(s){console.log(s)}})()},[]);const x=t=>{try{d.delete(`http://localhost:3500/MyOrders/${t}`);const s=c.filter(r=>{r.id});n(r=>r.map((p,m)=>c[m].id!==t)),c(s)}catch(s){console.log(s)}console.log(l),console.log()};return e.jsxs(e.Fragment,{children:[e.jsx(h,{cart:i}),e.jsx("div",{className:"container-fluid bg-dark p-2 align-items-center",style:{minHeight:"100vh"},children:c.length===0?e.jsx("div",{className:"d-flex justify-content-center align-items-center text-white",children:e.jsx("span",{className:"fw-bold fs-3",children:"No Products in Your Order!"})}):e.jsxs("div",{className:"row",children:[e.jsx("h4",{className:"text-white pt-3",children:"Orders"}),e.jsx("div",{className:"col-12 card d-flex flex-wrap mx-auto",style:{height:"fit-content",width:"95%"},children:c.map((t,s)=>{const r=t[0];return e.jsxs("div",{className:"d-flex flex-column flex-md-row p-2 align-items-center",children:[e.jsx("div",{className:"image col-12 col-md-5 text-center",children:e.jsx("img",{width:"250",height:"350",src:r.images,alt:r.name,className:"img-responsive rounded m-3"})}),e.jsxs("div",{className:"contents col-12 col-md-8",children:[e.jsxs("p",{children:["Name: ",r.name]}),e.jsxs("p",{children:["Brand: ",r.brand]}),e.jsxs("p",{children:["Size: ",r.size]}),e.jsxs("p",{children:["Product Count: ",r.Item]}),e.jsxs("p",{children:["Price: ",r.price]}),e.jsxs("p",{children:["Reviews: ",r.review]}),e.jsxs("p",{className:"fw-bold p-1",children:["Your Order placed successfully!",e.jsx("br",{}),"Expected delivery date 4",e.jsx("sup",{children:"th"})," Jan. Any queries"," ",e.jsx("a",{href:"",children:"Contact us"})]}),e.jsxs("div",{className:"d-flex flex-column flex-md-row gap-2",children:[e.jsx("button",{className:"btn btn-warning",disabled:!l[s],onClick:()=>x(t.id),children:l[s]?"Cancel Order":"Order Cancelled"}),e.jsxs("button",{className:"btn btn-dark d-flex align-items-center justify-content-center",children:["Track Your Orders ",e.jsx("span",{className:"bi bi-x fw-bold fs-4"})]})]})]})]},s)})})]})})]})};export{g as default};
